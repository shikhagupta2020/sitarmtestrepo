{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        
        "service_APIM_instance_name": {
            "defaultValue": "TEST-ARM-API1457",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "type": "Microsoft.ApiManagement/service",
            "apiVersion": "2019-12-01",
            "name": "[parameters('service_APIM_instance_name')]",
            "location": "East US",
            "sku": {
                "name": "Developer",
                "capacity": 1
            },
             "properties": {
                "publisherEmail": "ETS_Asia_Cloud_Services@manulife.com",
                "publisherName": "Manulife",
                "notificationSenderEmail": "apimgmt-noreply@mail.windowsazure.com",
                "hostnameConfigurations": [
                    {
                        "type": "Proxy",
                        "hostName": "test-arm-api1457.azure-api.net",
                        "negotiateClientCertificate": false,
                        "defaultSslBinding": true
                    }
                    

                ],
                
                "customProperties": {
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30": "False",
                    "Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2": "False"
                },
                "virtualNetworkType": "Internal",
                "apiVersionConstraint": {}
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "ING_DeathClmCreate",
                "apiRevision": "1",
                "subscriptionRequired": true,
                "serviceUrl": "http://localhost:9080/overrideurl",
                "path": "ing-deathclmcreate",
                "protocols": [
                    "https"
                ],
                "type": "soap",
                "isCurrent": true
            }
        },
                
        {
            "type": "Microsoft.ApiManagement/service/apis",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "MLK_GetAppData",
                "apiRevision": "1",
                "subscriptionRequired": true,
                "serviceUrl": "http://localhost:9080/overrideurl",
                "path": "mlk-getappdata",
                "protocols": [
                    "https"
                ],
                "type": "soap",
                "isCurrent": true
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "SCV_AlphaSearch",
                "apiRevision": "1",
                "subscriptionRequired": true,
                "serviceUrl": "http://localhost:9080/overrideurl",
                "path": "scv-alphasearch",
                "protocols": [
                    "https"
                ],
                "type": "soap",
                "isCurrent": true
            }
        },

        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/InWSSecUser')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "InWSSecUser",
                "value": "wesbusertest01",
                "tags": [],
                "secret": false
            }
        }, 
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/InWSSecPass')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "InWSSecPass",
                "value": "esbTestP@ssW0rd#01",
                "tags": [],
                "secret": true
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/INGUsername')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "INGUsername",
                "value": "wasESBtest",
                "tags": [],
                "secret": false
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/INGPassword')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "INGPassword",
                "value": "Conn3ct1on",
                "tags": [],
                "secret": true
            }
        },        
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/UNIUsername')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "UNIUsername",
                "value": "wesbusertest01",
                "tags": [],
                "secret": false
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/UNIPassword')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "UNIPassword",
                "value": "esbTestP@ssW0rd#01",
                "tags": [],
                "secret": true
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/MLKUsername')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "MLKUsername",
                "value": "wesbusertest01",
                "tags": [],
                "secret": false
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/MLKPassword')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "MLKPassword",
                "value": "esbTestP@ssW0rd#01",
                "tags": [],
                "secret": true
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/SCVUsername')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "SCVUsername",
                "value": "wasadmin",
                "tags": [],
                "secret": false
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/SCVPassword')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "SCVPassword",
                "value": "wasadmin",
                "tags": [],
                "secret": true
            }
        },
        
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/INGDeathClmCreateURL')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "INGDeathClmCreateURL",
                "value": "http://10.216.123.12:9086/WSDthClmCreate/services/WSDthClmCreate",
                "tags": [],
                "secret": false
            }
        },
                
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/MLKGetAppDataURL')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "MLKGetAppDataURL",
                "value": "http://10.156.1.34:5029/AGENTWEB_SERVICES/SPIGetAppsDataService",
                "tags": [],
                "secret": false
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/properties",
            "apiVersion": "2019-01-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/SCVAlphaSearchURL')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "SCVAlphaSearchURL",
                "value": "http://10.156.1.36:5009/SCVWebServiceAPP/SCVAlphaSearchPortImplService",
                "tags": [],
                "secret": false
            }
        },

        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/5ee0bc6ea5aa2c0f24314403')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "callFlow",
                "method": "POST",
                "urlTemplate": "/?soapAction=callFlow",
                "templateParameters": [],
                "request": {
                    "description": "callFlowRequest",
                    "queryParameters": [],
                    "headers": [],
                    "representations": [
                        {
                            "contentType": "text/xml",
                            "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <callFlowRequest xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schema/webservices.elink.solcorp.com\">\r\n      <!-- Attribute Wild card could not be matched. Generated XML may not be valid. -->\r\n      <ProcessClassID xmlns=\"\">ProcessClassID1</ProcessClassID>\r\n      <StatisticLogging xmlns=\"\">yes</StatisticLogging>\r\n      <BAMID xmlns=\"\">BAMID1</BAMID>\r\n      <MIR-USER-ID xmlns=\"\">MIR-USE1</MIR-USER-ID>\r\n      <MIR-USER-PSWD-TXT xmlns=\"\">MIR-USE1</MIR-USER-PSWD-TXT>\r\n      <MIR-CO-ID xmlns=\"\">M1</MIR-CO-ID>\r\n      <LocaleID xmlns=\"\">1</LocaleID>\r\n      <RequestParameters xmlns=\"\">\r\n        <Agent>Agent1</Agent>\r\n        <RequestorType>RequestorType1</RequestorType>\r\n        <CliUpdtInd>CliUpdtInd1</CliUpdtInd>\r\n        <CliID>CliID1</CliID>\r\n        <DeathDt>DeathDt1</DeathDt>\r\n        <DthCause>DthCause1</DthCause>\r\n        <DthClmInd>DthClmInd1</DthClmInd>\r\n        <PolicyID>PolicyID1</PolicyID>\r\n        <DthMasterClmID>DthMasterClmID1</DthMasterClmID>\r\n        <ClaimType>ClaimType1</ClaimType>\r\n        <EffectiveDt>EffectiveDt1</EffectiveDt>\r\n        <CauseCode>CauseCode1</CauseCode>\r\n        <HONotiDt>HONotiDt1</HONotiDt>\r\n        <HOClmFormAcptDt>HOClmFormAcptDt1</HOClmFormAcptDt>\r\n        <AgtClmFormAcptDt>AgtClmFormAcptDt1</AgtClmFormAcptDt>\r\n        <SOClmFormAcptDt>SOClmFormAcptDt1</SOClmFormAcptDt>\r\n        <CancerType>CancerType1</CancerType>\r\n        <TransplantType>TransplantType1</TransplantType>\r\n      </RequestParameters>\r\n    </callFlowRequest>\r\n  </Body>\r\n</Envelope>",
                            "schemaId": "e91d6a32-9cb4-49c8-93b4-298df200cb0e",
                            "typeName": "callFlowRequest"
                        }
                    ]
                },
                "responses": [
                    {
                        "statusCode": 200,
                        "description": "callFlowResponse",
                        "representations": [
                            {
                                "contentType": "text/xml",
                                "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <callFlowResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schema/webservices.elink.solcorp.com\">\r\n      <!-- Attribute Wild card could not be matched. Generated XML may not be valid. -->\r\n      <Messages xmlns=\"\">\r\n        <Message>\r\n          <Id>Id1</Id>\r\n          <Severity>1</Severity>\r\n          <Content>Content1</Content>\r\n        </Message>\r\n        <Message>\r\n          <Id>Id2</Id>\r\n          <Severity>2</Severity>\r\n          <Content>Content2</Content>\r\n        </Message>\r\n        <Message>\r\n          <Id>Id3</Id>\r\n          <Severity>3</Severity>\r\n          <Content>Content3</Content>\r\n        </Message>\r\n        <Message>\r\n          <Id>Id4</Id>\r\n          <Severity>4</Severity>\r\n          <Content>Content4</Content>\r\n        </Message>\r\n        <Message>\r\n          <Id>Id5</Id>\r\n          <Severity>5</Severity>\r\n          <Content>Content5</Content>\r\n        </Message>\r\n        <More>Mo1</More>\r\n      </Messages>\r\n      <ResponseDetails xmlns=\"\">\r\n        <CliID>CliID1</CliID>\r\n        <CliUpdtReturnCd>CliUpdtReturnCd1</CliUpdtReturnCd>\r\n        <DthMasterReturnCd>DthMasterReturnCd1</DthMasterReturnCd>\r\n        <DthMasterClmID>DthMasterClmID1</DthMasterClmID>\r\n        <ReturnCode>ReturnCode1</ReturnCode>\r\n      </ResponseDetails>\r\n    </callFlowResponse>\r\n  </Body>\r\n</Envelope>",
                                "schemaId": "e91d6a32-9cb4-49c8-93b4-298df200cb0e",
                                "typeName": "callFlowResponse"
                            }
                        ],
                        "headers": []
                    }
                ]
            }
        },
        
        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata/5edb642fa5aa2c0f2431322e')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'mlk-getappdata')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "getAppsData",
                "method": "POST",
                "urlTemplate": "/?soapAction=getAppsData",
                "templateParameters": [],
                "request": {
                    "description": "SPIGetAppsDataServiceRequest",
                    "queryParameters": [],
                    "headers": [],
                    "representations": [
                        {
                            "contentType": "text/xml",
                            "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <SPIGetAppsDataServiceRequest xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"\">\r\n      <BasicInfo>\r\n        <ApplicationNo>1</ApplicationNo>\r\n        <UserID>UserID1</UserID>\r\n      </BasicInfo>\r\n    </SPIGetAppsDataServiceRequest>\r\n  </Body>\r\n</Envelope>",
                            "schemaId": "0c370e17-92a2-4208-b39f-f37b83602afb",
                            "typeName": "SPIGetAppsDataServiceRequest"
                        }
                    ]
                },
                "responses": [
                    {
                        "statusCode": 200,
                        "description": "SPIGetAppsDataServiceResponse",
                        "representations": [
                            {
                                "contentType": "text/xml",
                                "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <Message>Generated Sample is too large.</Message>\r\n  </Body>\r\n</Envelope>",
                                "schemaId": "0c370e17-92a2-4208-b39f-f37b83602afb",
                                "typeName": "SPIGetAppsDataServiceResponse"
                            }
                        ],
                        "headers": []
                    }
                ]
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch/5ee07999a5aa2c0f24314052')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'scv-alphasearch')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "alphaSearch",
                "method": "POST",
                "urlTemplate": "/?soapAction=alphaSearch",
                "templateParameters": [],
                "request": {
                    "description": "alphaSearchRequest",
                    "queryParameters": [],
                    "headers": [],
                    "representations": [
                        {
                            "contentType": "text/xml",
                            "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <Message>Generated Sample is too large.</Message>\r\n  </Body>\r\n</Envelope>",
                            "schemaId": "c187a1ba-136d-4bc2-8e4f-328eaaa8eb4f",
                            "typeName": "alphaSearchRequest"
                        }
                    ]
                },
                "responses": [
                    {
                        "statusCode": 200,
                        "description": "alphaSearchResponse",
                        "representations": [
                            {
                                "contentType": "text/xml",
                                "sample": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n  <Body>\r\n    <alphaSearchResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"\">\r\n      <basicInfoResp>\r\n        <requestDate>1900-01-01</requestDate>\r\n        <requestNo>1</requestNo>\r\n        <insertedTimestamp>1900-01-01</insertedTimestamp>\r\n        <insertEmp>insertEmp1</insertEmp>\r\n        <respToSys>respToSys1</respToSys>\r\n      </basicInfoResp>\r\n      <limitCheckResultInfo>\r\n        <limitCheckResult>\r\n          <applicationNo>1</applicationNo>\r\n          <searchType>1</searchType>\r\n          <customerType>1</customerType>\r\n          <insuredSeqNo>1</insuredSeqNo>\r\n          <beneficiarySeqNo>1</beneficiarySeqNo>\r\n          <nameKanaCnv>nameKanaCnv1</nameKanaCnv>\r\n          <nameKanjiCnv>nameKanjiCnv1</nameKanjiCnv>\r\n          <insuredAge>1</insuredAge>\r\n          <lcType>1</lcType>\r\n          <limitAmount>1</limitAmount>\r\n          <sumTotalAmount>1</sumTotalAmount>\r\n          <defferenceAmount>1</defferenceAmount>\r\n          <lcMessage>lcMessage1</lcMessage>\r\n          <checkType>1</checkType>\r\n          <issueDate>1900-01-01</issueDate>\r\n          <policyNo>1</policyNo>\r\n          <lapseCancelType>lapseCancelType1</lapseCancelType>\r\n          <lcTypeSeq>1</lcTypeSeq>\r\n        </limitCheckResult>\r\n        <limitCheckResult>\r\n          <applicationNo>-79228162514264337593543950335</applicationNo>\r\n          <searchType>-2147483647</searchType>\r\n          <customerType>-2147483647</customerType>\r\n          <insuredSeqNo>-2147483647</insuredSeqNo>\r\n          <beneficiarySeqNo>-2147483647</beneficiarySeqNo>\r\n          <nameKanaCnv>nameKanaCnv2</nameKanaCnv>\r\n          <nameKanjiCnv>nameKanjiCnv2</nameKanjiCnv>\r\n          <insuredAge>-2147483647</insuredAge>\r\n          <lcType>-2147483647</lcType>\r\n          <limitAmount>-79228162514264337593543950335</limitAmount>\r\n          <sumTotalAmount>-79228162514264337593543950335</sumTotalAmount>\r\n          <defferenceAmount>-79228162514264337593543950335</defferenceAmount>\r\n          <lcMessage>lcMessage2</lcMessage>\r\n          <checkType>-2147483647</checkType>\r\n          <issueDate>0001-01-01</issueDate>\r\n          <policyNo>-2147483647</policyNo>\r\n          <lapseCancelType>lapseCancelType2</lapseCancelType>\r\n          <lcTypeSeq>-2147483647</lcTypeSeq>\r\n        </limitCheckResult>\r\n        <limitCheckResult>\r\n          <applicationNo>79228162514264337593543950335</applicationNo>\r\n          <searchType>2147483647</searchType>\r\n          <customerType>2147483647</customerType>\r\n          <insuredSeqNo>2147483647</insuredSeqNo>\r\n          <beneficiarySeqNo>2147483647</beneficiarySeqNo>\r\n          <nameKanaCnv>nameKanaCnv3</nameKanaCnv>\r\n          <nameKanjiCnv>nameKanjiCnv3</nameKanjiCnv>\r\n          <insuredAge>2147483647</insuredAge>\r\n          <lcType>2147483647</lcType>\r\n          <limitAmount>79228162514264337593543950335</limitAmount>\r\n          <sumTotalAmount>79228162514264337593543950335</sumTotalAmount>\r\n          <defferenceAmount>79228162514264337593543950335</defferenceAmount>\r\n          <lcMessage>lcMessage3</lcMessage>\r\n          <checkType>2147483647</checkType>\r\n          <issueDate>9999-12-31</issueDate>\r\n          <policyNo>2147483647</policyNo>\r\n          <lapseCancelType>lapseCancelType3</lapseCancelType>\r\n          <lcTypeSeq>2147483647</lcTypeSeq>\r\n        </limitCheckResult>\r\n        <limitCheckResult>\r\n          <applicationNo>0</applicationNo>\r\n          <searchType>0</searchType>\r\n          <customerType>0</customerType>\r\n          <insuredSeqNo>0</insuredSeqNo>\r\n          <beneficiarySeqNo>0</beneficiarySeqNo>\r\n          <nameKanaCnv>nameKanaCnv4</nameKanaCnv>\r\n          <nameKanjiCnv>nameKanjiCnv4</nameKanjiCnv>\r\n          <insuredAge>0</insuredAge>\r\n          <lcType>0</lcType>\r\n          <limitAmount>0</limitAmount>\r\n          <sumTotalAmount>0</sumTotalAmount>\r\n          <defferenceAmount>0</defferenceAmount>\r\n          <lcMessage>lcMessage4</lcMessage>\r\n          <checkType>0</checkType>\r\n          <issueDate>1899-11-30</issueDate>\r\n          <policyNo>0</policyNo>\r\n          <lapseCancelType>lapseCancelType4</lapseCancelType>\r\n          <lcTypeSeq>0</lcTypeSeq>\r\n        </limitCheckResult>\r\n        <limitCheckResult>\r\n          <applicationNo>2</applicationNo>\r\n          <searchType>2</searchType>\r\n          <customerType>2</customerType>\r\n          <insuredSeqNo>2</insuredSeqNo>\r\n          <beneficiarySeqNo>2</beneficiarySeqNo>\r\n          <nameKanaCnv>nameKanaCnv5</nameKanaCnv>\r\n          <nameKanjiCnv>nameKanjiCnv5</nameKanjiCnv>\r\n          <insuredAge>2</insuredAge>\r\n          <lcType>2</lcType>\r\n          <limitAmount>2</limitAmount>\r\n          <sumTotalAmount>2</sumTotalAmount>\r\n          <defferenceAmount>2</defferenceAmount>\r\n          <lcMessage>lcMessage5</lcMessage>\r\n          <checkType>2</checkType>\r\n          <issueDate>1900-02-02</issueDate>\r\n          <policyNo>2</policyNo>\r\n          <lapseCancelType>lapseCancelType5</lapseCancelType>\r\n          <lcTypeSeq>2</lcTypeSeq>\r\n        </limitCheckResult>\r\n      </limitCheckResultInfo>\r\n      <approveAuthCheckResultInfo>\r\n        <approveAuthCheckResult>\r\n          <checkCode>1</checkCode>\r\n          <sumTotalAmount>1</sumTotalAmount>\r\n        </approveAuthCheckResult>\r\n        <approveAuthCheckResult>\r\n          <checkCode>-2147483647</checkCode>\r\n          <sumTotalAmount>-2147483647</sumTotalAmount>\r\n        </approveAuthCheckResult>\r\n        <approveAuthCheckResult>\r\n          <checkCode>2147483647</checkCode>\r\n          <sumTotalAmount>2147483647</sumTotalAmount>\r\n        </approveAuthCheckResult>\r\n        <approveAuthCheckResult>\r\n          <checkCode>0</checkCode>\r\n          <sumTotalAmount>0</sumTotalAmount>\r\n        </approveAuthCheckResult>\r\n        <approveAuthCheckResult>\r\n          <checkCode>2</checkCode>\r\n          <sumTotalAmount>2</sumTotalAmount>\r\n        </approveAuthCheckResult>\r\n      </approveAuthCheckResultInfo>\r\n      <errorInformation>\r\n        <errorCode>errorCode1</errorCode>\r\n        <errorMessage>errorMessage1</errorMessage>\r\n      </errorInformation>\r\n    </alphaSearchResponse>\r\n  </Body>\r\n</Envelope>",
                                "schemaId": "c187a1ba-136d-4bc2-8e4f-328eaaa8eb4f",
                                "typeName": "alphaSearchResponse"
                            }
                        ],
                        "headers": []
                    }
                ]
            }
        },

        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/getwsdl')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "getWSDL",
                "method": "GET",
                "urlTemplate": "/?soapAction=callFlow",
                "templateParameters": [],
                "responses": []
            }
        },
               
        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata/getwsdl')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'mlk-getappdata')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "getWSDL",
                "method": "GET",
                "urlTemplate": "/?soapAction=getAppsData",
                "templateParameters": [],
                "responses": []
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/operations",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch/getwsdl')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'scv-alphasearch')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "displayName": "getWSDL",
                "method": "GET",
                "urlTemplate": "/?soapAction=alphaSearch",
                "templateParameters": [],
                "responses": []
            }
        },


        {
            "type": "Microsoft.ApiManagement/service/apis/schemas",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/4d7ec693-a740-4d92-91fa-856bf57ea764')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-azure-apim.xsd+xml",
                "document": {
                    "value": "<xsd:schema targetNamespace=\"http://webservices.elink.solcorp.com\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:intf=\"http://schema/webservices.elink.solcorp.com\" xmlns:tns=\"http://webservices.elink.solcorp.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsdlsoap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:apim-wsdltns=\"http://webservices.elink.solcorp.com\">\r\n  <xsd:element name=\"callFlowFault\" nillable=\"true\" type=\"xsd:string\" />\r\n</xsd:schema>"
                }
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/schemas",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/e91d6a32-9cb4-49c8-93b4-298df200cb0e')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-azure-apim.xsd+xml",
                "document": {
                    "value": "<xsd:schema xmlns=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"http://schema/webservices.elink.solcorp.com\" xmlns:intf=\"http://schema/webservices.elink.solcorp.com\" xmlns:tns=\"http://webservices.elink.solcorp.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsdlsoap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:apim-wsdltns=\"http://webservices.elink.solcorp.com\">\r\n  <xsd:element name=\"callFlowRequest\">\r\n    <xsd:complexType>\r\n      <xsd:complexContent>\r\n        <xsd:extension base=\"intf:WSDthClmCreateRequest\">\r\n          <xsd:anyAttribute namespace=\"##other\" />\r\n        </xsd:extension>\r\n      </xsd:complexContent>\r\n    </xsd:complexType>\r\n  </xsd:element>\r\n  <xsd:element name=\"callFlowResponse\">\r\n    <xsd:complexType>\r\n      <xsd:complexContent>\r\n        <xsd:extension base=\"intf:WSDthClmCreateResponse\">\r\n          <xsd:anyAttribute namespace=\"##other\" />\r\n        </xsd:extension>\r\n      </xsd:complexContent>\r\n    </xsd:complexType>\r\n  </xsd:element>\r\n  <xsd:complexType name=\"WSDthClmCreateRequest\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"ProcessClassID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"StatisticLogging\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:enumeration value=\"yes\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"BAMID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"MIR-USER-ID\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"8\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"MIR-USER-PSWD-TXT\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"8\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"MIR-CO-ID\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"2\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"LocaleID\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"1\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"RequestParameters\" type=\"intf:GroupRequestParametersRequest\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"WSDthClmCreateResponse\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"Messages\" type=\"intf:GroupContentMessages\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"ResponseDetails\" type=\"intf:GroupResponseDetailsResponse\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"GroupContentMessages\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"5\" minOccurs=\"0\" name=\"Message\" type=\"intf:GroupContentMessage\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"More\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"3\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"GroupContentMessage\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"Id\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"100\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"Severity\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"1\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"1\" name=\"Content\">\r\n        <xsd:simpleType>\r\n          <xsd:restriction base=\"xsd:string\">\r\n            <xsd:minLength value=\"0\" />\r\n            <xsd:maxLength value=\"100\" />\r\n          </xsd:restriction>\r\n        </xsd:simpleType>\r\n      </xsd:element>\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"GroupRequestParametersRequest\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"Agent\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"RequestorType\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CliUpdtInd\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CliID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DeathDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DthCause\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DthClmInd\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"PolicyID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DthMasterClmID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"ClaimType\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"EffectiveDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CauseCode\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"HONotiDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"HOClmFormAcptDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"AgtClmFormAcptDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"SOClmFormAcptDt\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CancerType\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"TransplantType\" type=\"xsd:string\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"GroupResponseDetailsResponse\">\r\n    <xsd:sequence>\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CliID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"CliUpdtReturnCd\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DthMasterReturnCd\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"DthMasterClmID\" type=\"xsd:string\" />\r\n      <xsd:element maxOccurs=\"1\" minOccurs=\"0\" name=\"ReturnCode\" type=\"xsd:string\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n</xsd:schema>"
                }
            }
        },        
              
        {
            "type": "Microsoft.ApiManagement/service/apis/schemas",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata/0c370e17-92a2-4208-b39f-f37b83602afb')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'mlk-getappdata')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-azure-apim.xsd+xml",
                "document": {
                    "value": "<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://jp.co.manulife.spi.services.getappsdataservice\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:apim-wsdltns=\"http://jp.co.manulife.spi.services.getappsdataservice\">\r\n  <!-- Element Declarations -->\r\n  <xsd:element name=\"SPIGetAppsDataServiceRequest\" type=\"SPIGetAppsDataServiceRequest\" nillable=\"true\" />\r\n  <xsd:element name=\"SPIGetAppsDataServiceResponse\" type=\"SPIGetAppsDataServiceResponse\" nillable=\"true\" />\r\n  <!-- Request: Type Declarations -->\r\n  <xsd:complexType name=\"SPIGetAppsDataServiceRequest\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"BasicInfo\" type=\"BasicInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"BasicInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"ApplicationNo\" type=\"xsd:long\" minOccurs=\"1\" />\r\n      <xsd:element name=\"UserID\" type=\"xsd:string\" minOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <!-- Response: Type Declarations -->\r\n  <xsd:complexType name=\"SPIGetAppsDataServiceResponse\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"BasicInfo\" type=\"BasicInfoResp\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"KeyInfo\" type=\"KeyInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"BasicInfoResp\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"ReturnCode\" type=\"xsd:string\" />\r\n      <xsd:element name=\"ErrorCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"ErrorMessage\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"KeyInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"ApplicationNo\" type=\"xsd:long\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PaymentInfo\" type=\"PaymentInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"ApplicationInfo\" type=\"ApplicationInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"PolicyOwnerClientInfo\" type=\"PolicyOwnerClientInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"InsuredClientInfo\" type=\"InsuredClientInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"PremiumInfo\" type=\"PremiumInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"FundInfo\" type=\"FundInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"PaymentInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"PrepaymentCount\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PaymentMethod\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"PaymentRouteFst\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"PaymentRouteSnd\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"TaxQualifdRiderFlg\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SchedPrepayCount\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"ApplicationInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"DesgntIssueDataInd\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SeizureFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PreConfirmFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NoNayoseFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"OverlapApplicationNo\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GroupCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GroupAgencyCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AgencyCode\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"CoRecruitCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AgencyRegNo\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"CoAgencyRegNo\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CoAgencyRate\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BankCode\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BranchCode\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AccountType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AccountNumber\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AccountHolderType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AccountHolderNameKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SharedBankAcountCD\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SelfSpecifiedFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"LumDepCD\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"RepApplicationNo\" type=\"xsd:long\" minOccurs=\"1\" />\r\n      <xsd:element name=\"CalcBaseDate\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"SelfDeposit\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"HandlBranchCD\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"ReferralAgentNum\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NonFace2FaceFlg\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SignatureDate\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"ReprintId\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"UnderwritingReviewFlag\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"PolicyOwnerClientInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"ClientType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"ClientInfoClientID\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NameKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NameKanji\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"Gender\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"DOB\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"PolicyOwnerAge\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PostCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressDetailKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressDetailKanji\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Tel\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AnnualIncome\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Relationship\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"RelationshipOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobCode\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SelectionType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Rate\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobWork\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobSpec\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobDescription\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"DeathBenTotal\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"DisaseHospBenTotal\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PersonalId\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PersonalIDOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"InterviewPlace\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"InterviewPlaceOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem1\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem2\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem3\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem4_2\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem5\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem6\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem7\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem8\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <!-- CIF_CD is only for Policy Owner -->\r\n      <xsd:element name=\"CIF_CD\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"InsuredClientInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"ClientType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"ClientInfoClientID\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NameKana\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"NameKanji\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"Gender\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"DOB\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"InsuredAge\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PostCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressCode\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressDetailKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AddressDetailKanji\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Tel\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"AnnualIncome\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Relationship\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"RelationshipOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobCode\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SelectionType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"Rate\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"JobWork\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobSpec\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"JobDescription\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"DeathBenTotal\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"DisaseHospBenTotal\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PersonalId\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"PersonalIDOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"InterviewPlace\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"InterviewPlaceOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem1\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem2\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem3\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem4_2\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem5\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem6\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem7\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"CheckItem8\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BeneficiaryInfo\" type=\"BeneficiaryInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"CoverageInfo\" type=\"CoverageInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"BeneficiaryInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"BeneficiaryDetails\" type=\"BeneficiaryDetails\" minOccurs=\"1\" maxOccurs=\"10\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"BeneficiaryDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"BeneficiaryType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NameKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"NameKanji\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"BeneficiaryGender\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"BeneficiaryDOB\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"Relationship\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"RelationshipOther\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BeneficiaryRatio\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"BenGeneralParam1\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BenGeneralParam2\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BeneficiaryInfoClientID\" type=\"xsd:integer\" minOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"CoverageInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"CoverageDetails\" type=\"CoverageDetails\" minOccurs=\"1\" maxOccurs=\"50\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"CoverageDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"CoverageType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"PlanCode\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"InsurancePeriod\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"PremiumPaymentPeriod\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"FaceAmount\" type=\"xsd:integer\" minOccurs=\"1\" />\r\n      <xsd:element name=\"Premium\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"DateFormat\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"LivingNeedsRiderFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SpecifiedRiderFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"TerminalCareFlg\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"BasicBenftRate\" type=\"xsd:decimal\" minOccurs=\"0\" />\r\n      <xsd:element name=\"SurgeryBenefit\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GeneralParam1\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GeneralParam2\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GeneralParam3\" type=\"xsd:decimal\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GeneralParam4\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"GeneralParam5\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"PremiumInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"StandardPremium\" type=\"xsd:integer\" />\r\n      <xsd:element name=\"PrepaymentPremium\" type=\"xsd:integer\" />\r\n      <xsd:element name=\"TotalPremium\" type=\"xsd:integer\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"FundInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"FundDetails\" type=\"FundDetails\" minOccurs=\"1\" maxOccurs=\"50\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"FundDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"FundCode\" type=\"xsd:string\" />\r\n      <xsd:element name=\"InitPremPercent\" type=\"xsd:integer\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <!-- Element Declarations for Service fault type -->\r\n  <xsd:element name=\"SPIGetAppsDataServiceFault\" nillable=\"true\" type=\"xsd:string\" />\r\n</xsd:schema>"
                }
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/schemas",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch/c187a1ba-136d-4bc2-8e4f-328eaaa8eb4f')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'scv-alphasearch')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-azure-apim.xsd+xml",
                "document": {
                    "value": "<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://jp.co.manulife.scv.alphasearch\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:apim-wsdltns=\"http://jp.co.manulife.scv.alphasearch\">\r\n  <!-- Element Declarations -->\r\n  <xsd:element name=\"alphaSearchRequest\" type=\"alphaSearchRequest\" nillable=\"false\" />\r\n  <xsd:element name=\"alphaSearchResponse\" type=\"alphaSearchResponse\" nillable=\"false\" />\r\n  <xsd:element name=\"ServiceFault\" type=\"xsd:string\" nillable=\"true\" />\r\n  <!-- Request: Type Declarations -->\r\n  <xsd:complexType name=\"alphaSearchRequest\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"basicInfo\" type=\"basicInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"limitCheckInfo\" type=\"limitCheckInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"largeProductInfo\" type=\"largeProductInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"basicInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"requestDate\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"requestNo\" type=\"xsd:integer\" minOccurs=\"1\" />\r\n      <xsd:element name=\"insertedTimestamp\" type=\"xsd:dateTime\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insertEmp\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insertPG\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"channelType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"limitCheckInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"searchType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"calcBaseDate\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"requestType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"nonFaceToFaceFlg\" type=\"xsd:int\" minOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"largeProductInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"largeProductDetails\" type=\"largeProductDetails\" minOccurs=\"1\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"largeProductDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"applicationNo\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"largeProductCD\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"proposalType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"prevLargeProductCD\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"prevPolicyNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"customerInfo\" type=\"customerInfo\" minOccurs=\"1\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"customerInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"customerDetails\" type=\"customerDetails\" minOccurs=\"1\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"customerDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"customerType\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"customerBirthDate\" type=\"xsd:date\" minOccurs=\"1\" />\r\n      <xsd:element name=\"customerAge\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"customerGender\" type=\"xsd:int\" minOccurs=\"1\" />\r\n      <xsd:element name=\"customerNameKana\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"customerNamekanji\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insuredSeqNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"selectionType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"occupationCd\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"existingMedicalCov\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"existingLifeCov\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"annualIncome\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"amountInfo\" type=\"amountInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"beneficiaryInfo\" type=\"beneficiaryInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"parentalInfo\" type=\"parentalInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"amountInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"amountDetails\" type=\"amountDetails\" minOccurs=\"0\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"amountDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"amountSeqNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"lcnbAmountType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"benefitCd\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"riderPlanCd\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"amount\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"beneficiaryInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"beneficiaryDetails\" type=\"beneficiaryDetails\" minOccurs=\"0\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"beneficiaryDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"beneficiarySeqNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"beneficiaryDOB\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"beneficiaryGender\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"beneficiaryNameKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"beneficiaryNameKanji\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"parentalInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"parentalDetails\" type=\"parentalDetails\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"parentalDetails\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"parentalGuardianDOB\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"parentalGuardianGender\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"parentalGuardianNameKana\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"parentalGuardianNameKanji\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <!-- Response: Type Declarations -->\r\n  <xsd:complexType name=\"alphaSearchResponse\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"basicInfoResp\" type=\"basicInfoResp\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"limitCheckResultInfo\" type=\"limitCheckResultInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"approveAuthCheckResultInfo\" type=\"approveAuthCheckResultInfo\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"errorInformation\" type=\"errorInformation\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"basicInfoResp\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"requestDate\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"requestNo\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insertedTimestamp\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insertEmp\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"respToSys\" type=\"xsd:string\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"limitCheckResultInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"limitCheckResult\" type=\"limitCheckResult\" minOccurs=\"0\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"approveAuthCheckResultInfo\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"approveAuthCheckResult\" type=\"approveAuthCheckResult\" minOccurs=\"0\" maxOccurs=\"99\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"approveAuthCheckResult\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"checkCode\" type=\"xsd:int\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n      <xsd:element name=\"sumTotalAmount\" type=\"xsd:int\" minOccurs=\"0\" maxOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"limitCheckResult\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"applicationNo\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"searchType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"customerType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insuredSeqNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"beneficiarySeqNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"nameKanaCnv\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"nameKanjiCnv\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"insuredAge\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"lcType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"limitAmount\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"sumTotalAmount\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"defferenceAmount\" type=\"xsd:integer\" minOccurs=\"0\" />\r\n      <xsd:element name=\"lcMessage\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"checkType\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"issueDate\" type=\"xsd:date\" minOccurs=\"0\" />\r\n      <xsd:element name=\"policyNo\" type=\"xsd:int\" minOccurs=\"0\" />\r\n      <xsd:element name=\"lapseCancelType\" type=\"xsd:string\" minOccurs=\"0\" />\r\n      <xsd:element name=\"lcTypeSeq\" type=\"xsd:int\" minOccurs=\"0\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n  <xsd:complexType name=\"errorInformation\">\r\n    <xsd:sequence>\r\n      <xsd:element name=\"errorCode\" type=\"xsd:string\" minOccurs=\"1\" />\r\n      <xsd:element name=\"errorMessage\" type=\"xsd:string\" minOccurs=\"1\" />\r\n    </xsd:sequence>\r\n  </xsd:complexType>\r\n</xsd:schema>"
                }
            }
        },



        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/5ee0bc6ea5aa2c0f24314403/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'ing-deathclmcreate', '5ee0bc6ea5aa2c0f24314403')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <choose>\r\n      <when condition=\"@((context.Request.Body) != null)\">\r\n        <set-variable name=\"body\" value=\"@(context.Request.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"requestDataCheck\" value=\"@{&#xA;                    XDocument xDoc = context.Request.Body.As&lt;XDocument&gt;(preserveContent: true);                  &#xA;                    String usernameVal = &quot;&quot;;&#xA;                    String passwordVal = &quot;&quot;;&#xA;                    String clientId    = &quot;&quot;;&#xA;                    String policyNo    = &quot;&quot;;                   &#xA;                    try {&#xA;                        usernameVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Username&quot;).Value.ToString();&#xA;                        passwordVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Password&quot;).Value.ToString();                       &#xA;                        if ( !(usernameVal.Equals(&quot;{{InWSSecUser}}&quot;)) || !(passwordVal.Equals(&quot;{{InWSSecPass}}&quot;)) ) {&#xA;                            throw new Exception (&quot;ws-security invalid username token&quot;);&#xA;                        }&#xA;                    } catch (Exception e) {&#xA;                        throw new Exception(&quot;AUTHENTICATION-FAILURE: An error occurred in ws-security username token verification&quot;, e);&#xA;                    }&#xA;                    try {&#xA;                        clientId = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;).Element(&quot;{http://schema/webservices.elink.solcorp.com}callFlowRequest&quot;).Element(&quot;RequestParameters&quot;).Element(&quot;CliID&quot;).Value.ToString();&#xA;                        policyNo = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;).Element(&quot;{http://schema/webservices.elink.solcorp.com}callFlowRequest&quot;).Element(&quot;RequestParameters&quot;).Element(&quot;PolicyID&quot;).Value.ToString();&#xA;                    }&#xA;                    catch (Exception e){&#xA;                        throw new Exception(&quot;REQUEST-LOGGING-FAILURE: An error occurred while logging request key information&quot;, e);&#xA;                    }&#xA;                    return &quot;ING_DeathClmCreate, INBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ClientId [&quot;+clientId+&quot;], PolicyNumber[&quot;+policyNo+&quot;]&quot;;               &#xA;                }\" />\r\n        </when>\r\n      <otherwise>\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"REQUEST-VALIDATION-FAILED\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;REQUEST-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;INVALID-BODY&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n    <find-and-replace from=\"{{InWSSecUser}}\" to=\"{{INGUsername}}\" />\r\n    <find-and-replace from=\"{{InWSSecPass}}\" to=\"{{INGPassword}}\" />\r\n    <set-backend-service base-url=\"{{INGDeathClmCreateURL}}\" />\r\n  </inbound>\r\n  <backend>\r\n    <forward-request timeout=\"120\" fail-on-error-status-code=\"true\" />\r\n  </backend>\r\n  <outbound>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"responseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"responseDataCheck\" value=\"@{&#xA;                    String respBodyStr      = &quot;&quot;;&#xA;                    String respPart      = &quot;&quot;;&#xA;                    respBodyStr = (String)context.Variables[&quot;responseBody&quot;]; &#xA;                    respPart = respBodyStr.Substring(100,200);&#xA;                    return &quot;ING_DeathClmCreate, OUTBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ResponsePart[&quot;+respPart+&quot;]&quot;;&#xA;                }\" />\r\n        </when>\r\n      <otherwise>\r\n        <set-variable name=\"responseNullCheck\" value=\"@{  &#xA;                    return &quot;ING_DeathClmCreate, OUTBOUND, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], Error[Backend Response Is NULL]&quot;;&#xA;                }\" />\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"BACKEND-RESPONSE-NULL\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;RESPONSE-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;BACKEND-RESPONSE-NULL&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n  </outbound>\r\n  <on-error>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"errorResponseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <choose>\r\n          <when condition=\"@(((&quot;&quot;+context.Variables[&quot;errorResponseBody&quot;]).Contains(&quot;faultcode&quot;)))\">\r\n            <set-variable name=\"soapFaultCheck\" value=\"@{&#xA;                            String SoapFaultInfo = &quot;&quot;+context.Variables[&quot;errorResponseBody&quot;];&#xA;                            return &quot;ING_DeathClmCreate, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], SoapFault[&quot;+SoapFaultInfo+&quot;]&quot;;&#xA;                        }\" />\r\n           </when>\r\n          <otherwise>\r\n            <set-variable name=\"errorCheck\" value=\"@{&#xA;                            String ErrorInfo = &quot;&quot;+context.LastError.Source+&quot;,&quot;+context.LastError.Reason+&quot;,&quot;+context.LastError.Message+&quot;,&quot;+context.LastError.Section+&quot;,&quot;+context.LastError.Path;&#xA;                            return &quot;ING_DeathClmCreate, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ErrorMessage[&quot;+ErrorInfo+&quot;]&quot;;&#xA;                        }\" />\r\n           <return-response>\r\n              <set-status code=\"@(context.Response.StatusCode)\" reason=\"@(context.LastError.Reason)\" />\r\n              <set-header name=\"Content-Type\" exists-action=\"override\">\r\n                <value>text/xml</value>\r\n              </set-header>\r\n              <set-header name=\"RequestGUID\" exists-action=\"override\">\r\n                <value>@(context.RequestId.ToString())</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSource\" exists-action=\"override\">\r\n                <value>@(context.LastError.Source)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorReason\" exists-action=\"override\">\r\n                <value>@(context.LastError.Reason)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorMessage\" exists-action=\"override\">\r\n                <value>@(context.LastError.Message)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorScope\" exists-action=\"override\">\r\n                <value>@(context.LastError.Scope)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSection\" exists-action=\"override\">\r\n                <value>@(context.LastError.Section)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorPath\" exists-action=\"override\">\r\n                <value>@(context.LastError.Path)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorStatusCode\" exists-action=\"override\">\r\n                <value>@(context.Response.StatusCode.ToString())</value>\r\n              </set-header>\r\n              <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultcode&gt;\"+context.LastError.Reason+\"&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultstring&gt;\"+context.LastError.Message+\"&lt;/faultstring&gt;\\n\" + \r\n                                \"           &lt;detail&gt;\"+\"StatusCode:\"+context.Response.StatusCode+\", ErrorSource:\"+context.LastError.Source +\r\n                                                \", ErrorScope:\"+context.LastError.Scope+\", ErrorSection:\"+context.LastError.Section +\r\n                                                \", ErrorPath:\"+context.LastError.Path +\r\n                                                \", RequestGUID:\"+context.RequestId.ToString() +\r\n                                            \"&lt;/detail&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n            </return-response>\r\n          </otherwise>\r\n        </choose>\r\n      </when>\r\n      <otherwise />\r\n    </choose>\r\n  </on-error>\r\n</policies>",
                "format": "xml"
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/ing-deathclmcreate/getwsdl/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'ing-deathclmcreate', 'getwsdl')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'ing-deathclmcreate')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <return-response>\r\n      <set-status code=\"200\" reason=\"OK\" />\r\n      <set-header name=\"Content-Type\" exists-action=\"override\">\r\n        <value>text/html</value>\r\n      </set-header>\r\n      <set-body template=\"none\">@(\"&lt;html&gt;&lt;body&gt;\"+\r\n                \"&lt;h2&gt;Death claim create service &lt;/h2&gt;\"+\r\n                \"&lt;h3&gt;Hello! This is an Azure API Web Service!&lt;/h3&gt;\"+\r\n                \"&lt;/body&gt;&lt;/html&gt;\")</set-body>\r\n    </return-response>\r\n  </inbound>\r\n  <backend />\r\n  <outbound />\r\n  <on-error />\r\n</policies>",
                "format": "xml"
            }
        },
        
      
        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata/5edb642fa5aa2c0f2431322e/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'mlk-getappdata', '5edb642fa5aa2c0f2431322e')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'mlk-getappdata')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <choose>\r\n      <when condition=\"@((context.Request.Body) != null)\">\r\n        <set-variable name=\"body\" value=\"@(context.Request.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"requestDataCheck\" value=\"@{&#xA;                    XDocument xDoc = context.Request.Body.As&lt;XDocument&gt;(preserveContent: true);                  &#xA;                    String usernameVal = &quot;&quot;;&#xA;                    String passwordVal = &quot;&quot;;&#xA;                    String appNo    = &quot;&quot;;                &#xA;                    try {&#xA;                        usernameVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Username&quot;).Value.ToString();&#xA;                        passwordVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Password&quot;).Value.ToString();                       &#xA;                        if ( !(usernameVal.Equals(&quot;{{InWSSecUser}}&quot;)) || !(passwordVal.Equals(&quot;{{InWSSecPass}}&quot;)) ) {&#xA;                            throw new Exception (&quot;ws-security invalid username token&quot;);&#xA;                        }&#xA;                    } catch (Exception e) {&#xA;                        throw new Exception(&quot;AUTHENTICATION-FAILURE: An error occurred in ws-security username token verification&quot;, e);&#xA;                    }&#xA;                    try {&#xA;                        appNo       = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;).Element(&quot;{http://jp.co.manulife.spi.services.getappsdataservice}SPIGetAppsDataServiceRequest&quot;).Element(&quot;{http://jp.co.manulife.spi.services.getappsdataservice}BasicInfo&quot;).Element(&quot;{http://jp.co.manulife.spi.services.getappsdataservice}ApplicationNo&quot;).Value.ToString();&#xA;                    }&#xA;                    catch (Exception e){&#xA;                        throw new Exception(&quot;REQUEST-LOGGING-FAILURE: An error occurred while logging request key information&quot;, e);&#xA;                    }&#xA;                    return &quot;MLK_GetAppData, INBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ApplicationNo[&quot;+appNo+&quot;]&quot;;               &#xA;                }\" />\r\n        </when>\r\n      <otherwise>\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"REQUEST-VALIDATION-FAILED\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;REQUEST-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;INVALID-BODY&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n    <find-and-replace from=\"{{InWSSecUser}}\" to=\"{{MLKUsername}}\" />\r\n    <find-and-replace from=\"{{InWSSecPass}}\" to=\"{{MLKPassword}}\" />\r\n    <set-backend-service base-url=\"{{MLKGetAppDataURL}}\" />\r\n  </inbound>\r\n  <backend>\r\n    <forward-request timeout=\"120\" fail-on-error-status-code=\"true\" />\r\n  </backend>\r\n  <outbound>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"responseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"responseDataCheck\" value=\"@{&#xA;                    String respBodyStr      = &quot;&quot;;&#xA;                    String respPart      = &quot;&quot;;&#xA;                    respBodyStr = (String)context.Variables[&quot;responseBody&quot;]; &#xA;                    respPart = respBodyStr.Substring(100,200);&#xA;                    return &quot;MLK_GetAppData, OUTBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ResponsePart[&quot;+respPart+&quot;]&quot;;&#xA;                }\" />\r\n        </when>\r\n      <otherwise>\r\n        <set-variable name=\"responseNullCheck\" value=\"@{  &#xA;                    return &quot;MLK_GetAppData, OUTBOUND, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], Error[Backend Response Is NULL]&quot;;&#xA;                }\" />\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"BACKEND-RESPONSE-NULL\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;RESPONSE-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;BACKEND-RESPONSE-NULL&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n  </outbound>\r\n  <on-error>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"errorResponseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <choose>\r\n          <when condition=\"@(((&quot;&quot;+context.Variables[&quot;errorResponseBody&quot;]).Contains(&quot;faultcode&quot;)))\">\r\n            <set-variable name=\"soapFaultCheck\" value=\"@{&#xA;                            String SoapFaultInfo = &quot;&quot;+context.Variables[&quot;errorResponseBody&quot;];&#xA;                            return &quot;MLK_GetAppData, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], SoapFault[&quot;+SoapFaultInfo+&quot;]&quot;;&#xA;                        }\" />\r\n           </when>\r\n          <otherwise>\r\n            <set-variable name=\"errorCheck\" value=\"@{&#xA;                            String ErrorInfo = &quot;&quot;+context.LastError.Source+&quot;,&quot;+context.LastError.Reason+&quot;,&quot;+context.LastError.Message+&quot;,&quot;+context.LastError.Section+&quot;,&quot;+context.LastError.Path;&#xA;                            return &quot;MLK_GetAppData, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ErrorMessage[&quot;+ErrorInfo+&quot;]&quot;;&#xA;                        }\" />\r\n            <return-response>\r\n              <set-status code=\"@(context.Response.StatusCode)\" reason=\"@(context.LastError.Reason)\" />\r\n              <set-header name=\"Content-Type\" exists-action=\"override\">\r\n                <value>text/xml</value>\r\n              </set-header>\r\n              <set-header name=\"RequestGUID\" exists-action=\"override\">\r\n                <value>@(context.RequestId.ToString())</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSource\" exists-action=\"override\">\r\n                <value>@(context.LastError.Source)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorReason\" exists-action=\"override\">\r\n                <value>@(context.LastError.Reason)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorMessage\" exists-action=\"override\">\r\n                <value>@(context.LastError.Message)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorScope\" exists-action=\"override\">\r\n                <value>@(context.LastError.Scope)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSection\" exists-action=\"override\">\r\n                <value>@(context.LastError.Section)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorPath\" exists-action=\"override\">\r\n                <value>@(context.LastError.Path)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorStatusCode\" exists-action=\"override\">\r\n                <value>@(context.Response.StatusCode.ToString())</value>\r\n              </set-header>\r\n              <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultcode&gt;\"+context.LastError.Reason+\"&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultstring&gt;\"+context.LastError.Message+\"&lt;/faultstring&gt;\\n\" + \r\n                                \"           &lt;detail&gt;\"+\"StatusCode:\"+context.Response.StatusCode+\", ErrorSource:\"+context.LastError.Source +\r\n                                                \", ErrorScope:\"+context.LastError.Scope+\", ErrorSection:\"+context.LastError.Section +\r\n                                                \", ErrorPath:\"+context.LastError.Path +\r\n                                                \", RequestGUID:\"+context.RequestId.ToString() +\r\n                                            \"&lt;/detail&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n            </return-response>\r\n          </otherwise>\r\n        </choose>\r\n      </when>\r\n      <otherwise />\r\n    </choose>\r\n  </on-error>\r\n</policies>",
                "format": "xml"
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/mlk-getappdata/getwsdl/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'mlk-getappdata', 'getwsdl')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'mlk-getappdata')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <return-response>\r\n      <set-status code=\"200\" reason=\"OK\" />\r\n      <set-header name=\"Content-Type\" exists-action=\"override\">\r\n        <value>text/html</value>\r\n      </set-header>\r\n      <set-body template=\"none\">@(\"&lt;html&gt;&lt;body&gt;\"+\r\n                \"&lt;h2&gt;Get application data service&lt;/h2&gt;\"+\r\n                \"&lt;h3&gt;Hello! This is an Azure API Web Service!&lt;/h3&gt;\"+\r\n                \"&lt;/body&gt;&lt;/html&gt;\")</set-body>\r\n    </return-response>\r\n    <set-backend-service base-url=\"http://localhost:9080/temp\" />\r\n  </inbound>\r\n  <backend />\r\n  <outbound />\r\n  <on-error />\r\n</policies>",
                "format": "xml"
            }
        },

        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch/5ee07999a5aa2c0f24314052/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'scv-alphasearch', '5ee07999a5aa2c0f24314052')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'scv-alphasearch')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <choose>\r\n      <when condition=\"@((context.Request.Body) != null)\">\r\n        <set-variable name=\"body\" value=\"@(context.Request.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"requestDataCheck\" value=\"@{&#xA;                    XDocument xDoc = context.Request.Body.As&lt;XDocument&gt;(preserveContent: true);                  &#xA;                    String usernameVal = &quot;&quot;;&#xA;                    String passwordVal = &quot;&quot;;&#xA;                    String reqNo = &quot;&quot;;&#xA;                    String appNo = &quot;&quot;;                 &#xA;                    try {&#xA;                        usernameVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Username&quot;).Value.ToString();&#xA;                        passwordVal = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Header&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}UsernameToken&quot;).Element(&quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Password&quot;).Value.ToString();                       &#xA;                        if ( !(usernameVal.Equals(&quot;{{InWSSecUser}}&quot;)) || !(passwordVal.Equals(&quot;{{InWSSecPass}}&quot;)) ) {&#xA;                            throw new Exception (&quot;ws-security invalid username token&quot;);&#xA;                        }&#xA;                    } catch (Exception e) {&#xA;                        throw new Exception(&quot;AUTHENTICATION-FAILURE: An error occurred in ws-security username token verification&quot;, e);&#xA;                    }&#xA;                    try {&#xA;                        reqNo  = xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}alphaSearchRequest&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}basicInfo&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}requestNo&quot;).Value.ToString();&#xA;                        appNo =  xDoc.Root.Element(&quot;{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}alphaSearchRequest&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}largeProductInfo&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}largeProductDetails&quot;).Element(&quot;{http://jp.co.manulife.scv.alphasearch}applicationNo&quot;).Value.ToString();&#xA;                    }&#xA;                    catch (Exception e){&#xA;                        throw new Exception(&quot;REQUEST-LOGGING-FAILURE: An error occurred while logging request key information&quot;, e);&#xA;                    }&#xA;                    return &quot;SCV_AlphaSearch, INBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], RequestNo[&quot;+reqNo+&quot;], ApplicationNo[&quot;+appNo+&quot;]&quot;;               &#xA;                }\" />\r\n         </when>\r\n      <otherwise>\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"REQUEST-VALIDATION-FAILED\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;REQUEST-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;INVALID-BODY&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n    <find-and-replace from=\"{{InWSSecUser}}\" to=\"{{SCVUsername}}\" />\r\n    <find-and-replace from=\"{{InWSSecPass}}\" to=\"{{SCVPassword}}\" />\r\n    <set-backend-service base-url=\"{{SCVAlphaSearchURL}}\" />\r\n  </inbound>\r\n  <backend>\r\n    <forward-request timeout=\"120\" fail-on-error-status-code=\"true\" />\r\n  </backend>\r\n  <outbound>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"responseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <set-variable name=\"responseDataCheck\" value=\"@{&#xA;                    String respBodyStr      = &quot;&quot;;&#xA;                    String respPart      = &quot;&quot;;&#xA;                    respBodyStr = (String)context.Variables[&quot;responseBody&quot;]; &#xA;                    respPart = respBodyStr.Substring(100,200);&#xA;                    return &quot;SCV_AlphaSearch, OUTBOUND, SUCCESS, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ResponsePart[&quot;+respPart+&quot;]&quot;;&#xA;                }\" />\r\n        </when>\r\n      <otherwise>\r\n        <set-variable name=\"responseNullCheck\" value=\"@{  &#xA;                    return &quot;SCV_AlphaSearch, OUTBOUND, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], Error[Backend Response Is NULL]&quot;;&#xA;                }\" />\r\n        <return-response>\r\n          <set-status code=\"500\" reason=\"BACKEND-RESPONSE-NULL\" />\r\n          <set-header name=\"Content-Type\" exists-action=\"override\">\r\n            <value>text/xml</value>\r\n          </set-header>\r\n          <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultcode&gt;RESPONSE-VALIDATION-FAILED&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t        \"         &lt;faultstring&gt;BACKEND-RESPONSE-NULL&lt;/faultstring&gt;\\n\" + \r\n\t\t\t\t        \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t        \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t        \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n        </return-response>\r\n      </otherwise>\r\n    </choose>\r\n  </outbound>\r\n  <on-error>\r\n    <choose>\r\n      <when condition=\"@((context.Response.Body) != null)\">\r\n        <set-variable name=\"errorResponseBody\" value=\"@(context.Response.Body.As&lt;string&gt;(preserveContent: true))\" />\r\n        <choose>\r\n          <when condition=\"@(((&quot;&quot;+context.Variables[&quot;errorResponseBody&quot;]).Contains(&quot;faultcode&quot;)))\">\r\n            <set-variable name=\"soapFaultCheck\" value=\"@{&#xA;                            String SoapFaultInfo = &quot;&quot;+context.Variables[&quot;errorResponseBody&quot;];&#xA;                            return &quot;SCV_AlphaSearch, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], SoapFault[&quot;+SoapFaultInfo+&quot;]&quot;;&#xA;                        }\" />\r\n            </when>\r\n          <otherwise>\r\n            <set-variable name=\"errorCheck\" value=\"@{&#xA;                            String ErrorInfo = &quot;&quot;+context.LastError.Source+&quot;,&quot;+context.LastError.Reason+&quot;,&quot;+context.LastError.Message+&quot;,&quot;+context.LastError.Section+&quot;,&quot;+context.LastError.Path;&#xA;                            return &quot;SCV_AlphaSearch, ONERROR, FAILURE, RequestGUID[&quot;+context.RequestId.ToString()+&quot;], ErrorMessage[&quot;+ErrorInfo+&quot;]&quot;;&#xA;                        }\" />\r\n           <return-response>\r\n              <set-status code=\"@(context.Response.StatusCode)\" reason=\"@(context.LastError.Reason)\" />\r\n              <set-header name=\"Content-Type\" exists-action=\"override\">\r\n                <value>text/xml</value>\r\n              </set-header>\r\n              <set-header name=\"RequestGUID\" exists-action=\"override\">\r\n                <value>@(context.RequestId.ToString())</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSource\" exists-action=\"override\">\r\n                <value>@(context.LastError.Source)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorReason\" exists-action=\"override\">\r\n                <value>@(context.LastError.Reason)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorMessage\" exists-action=\"override\">\r\n                <value>@(context.LastError.Message)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorScope\" exists-action=\"override\">\r\n                <value>@(context.LastError.Scope)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorSection\" exists-action=\"override\">\r\n                <value>@(context.LastError.Section)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorPath\" exists-action=\"override\">\r\n                <value>@(context.LastError.Path)</value>\r\n              </set-header>\r\n              <set-header name=\"ErrorStatusCode\" exists-action=\"override\">\r\n                <value>@(context.Response.StatusCode.ToString())</value>\r\n              </set-header>\r\n              <set-body template=\"none\">@(\"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultcode&gt;\"+context.LastError.Reason+\"&lt;/faultcode&gt;\\n\" + \r\n\t\t\t\t                \"         &lt;faultstring&gt;\"+context.LastError.Message+\"&lt;/faultstring&gt;\\n\" + \r\n                                \"           &lt;detail&gt;\"+\"StatusCode:\"+context.Response.StatusCode+\", ErrorSource:\"+context.LastError.Source +\r\n                                                \", ErrorScope:\"+context.LastError.Scope+\", ErrorSection:\"+context.LastError.Section +\r\n                                                \", ErrorPath:\"+context.LastError.Path +\r\n                                                \", RequestGUID:\"+context.RequestId.ToString() +\r\n                                            \"&lt;/detail&gt;\\n\" + \r\n\t\t\t\t                \"      &lt;/soapenv:Fault&gt;\\n\" + \r\n\t\t\t\t                \"   &lt;/soapenv:Body&gt;\\n\" + \r\n\t\t\t\t                \"&lt;/soapenv:Envelope&gt;\")</set-body>\r\n            </return-response>\r\n          </otherwise>\r\n        </choose>\r\n      </when>\r\n      <otherwise />\r\n    </choose>\r\n  </on-error>\r\n</policies>",
                "format": "xml"
            }
        },
        {
            "type": "Microsoft.ApiManagement/service/apis/operations/policies",
            "apiVersion": "2019-12-01",
            "name": "[concat(parameters('service_APIM_instance_name'), '/scv-alphasearch/getwsdl/policy')]",
            "dependsOn": [
                "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('service_APIM_instance_name'), 'scv-alphasearch', 'getwsdl')]",
                "[resourceId('Microsoft.ApiManagement/service/apis', parameters('service_APIM_instance_name'), 'scv-alphasearch')]",
                "[resourceId('Microsoft.ApiManagement/service', parameters('service_APIM_instance_name'))]"
            ],
            "properties": {
                "value": "<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy, place the cursor at the desired insertion point and select a policy from the sidebar.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Position the <base> element within a section element to inherit all policies from the corresponding section element in the enclosing scope.\r\n    - Remove the <base> element to prevent inheriting policies from the corresponding section element in the enclosing scope.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n    - Comments within policy elements are not supported and may disappear. Place your comments between policy elements or at a higher level scope.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <return-response>\r\n      <set-status code=\"200\" reason=\"OK\" />\r\n      <set-header name=\"Content-Type\" exists-action=\"override\">\r\n        <value>text/html</value>\r\n      </set-header>\r\n      <set-body template=\"none\">@(\"&lt;html&gt;&lt;body&gt;\"+\r\n                \"&lt;h2&gt;Alpha search (Limit check) service&lt;/h2&gt;\"+\r\n                \"&lt;h3&gt;Hello! This is an Azure API Web Service!&lt;/h3&gt;\"+\r\n                \"&lt;/body&gt;&lt;/html&gt;\")</set-body>\r\n    </return-response>\r\n    <set-backend-service base-url=\"http://localhost:9080/temp\" />\r\n  </inbound>\r\n  <backend />\r\n  <outbound />\r\n  <on-error />\r\n</policies>",
                "format": "xml"
            }
        }
    ]
}
